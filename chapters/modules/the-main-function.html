<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>11.6. The main() Event &#8212; LaunchCode&#39;s LCHS  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="11.7. More About main()" href="more-on-main.html" />
    <link rel="prev" title="11.5. Creating Modules" href="creating-modules.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
   <div class="container">
     <div class="navbar-header">
       <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
       </button>
       <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
       </a>
       <span class="navbar-text navbar-version pull-left"><b></b></span>
     </div>

       <div class="collapse navbar-collapse nav-collapse">
         <ul class="nav navbar-nav">
           
           
             
           
           
           
           
           
         </ul>

         
           
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
         
       </div>
   </div>
 </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">11. </span>Python Modules</a></li>
    <li class="active"><span class="section-number">11.6. </span>The <code class="docutils literal notranslate"><span class="pre">main()</span></code> Event</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="the-main-event">
<h1><span class="section-number">11.6. </span>The <code class="docutils literal notranslate"><span class="pre">main()</span></code> Event<a class="headerlink" href="#the-main-event" title="Permalink to this headline">¶</a></h1>
<p>The last new skill for this chapter is to learn why we need to add a
<code class="docutils literal notranslate"><span class="pre">main()</span></code> function to our programs and modules. The best way to explain this
is to examine what happens when we do NOT include <code class="docutils literal notranslate"><span class="pre">main()</span></code>.</p>
<p>The program below uses two files—<code class="docutils literal notranslate"><span class="pre">main.py</span></code> and the module
<code class="docutils literal notranslate"><span class="pre">random_select.py</span></code>.</p>
<div class="section" id="a-sample-program-with-one-module">
<h2><span class="section-number">11.6.1. </span>A Sample Program With One Module<a class="headerlink" href="#a-sample-program-with-one-module" title="Permalink to this headline">¶</a></h2>
<p>Let’s pretend that we want to create a program that gives us information about
student scores. We started by coding the <code class="docutils literal notranslate"><span class="pre">find_average_score</span></code> and the
<code class="docutils literal notranslate"><span class="pre">create_report</span></code> functions. Now we want to test these functions by sending
in lists of numbers.</p>
<p>Notice that we first <code class="docutils literal notranslate"><span class="pre">import</span></code> the required module. Next, we define the
<code class="docutils literal notranslate"><span class="pre">find_average_score</span></code> and <code class="docutils literal notranslate"><span class="pre">create_report</span></code> functions. Finally, we include
four statements to call the functions and print some output.</p>
<p>In lines 20 - 21, we call <code class="docutils literal notranslate"><span class="pre">find_average_score</span></code> with a list of numbers with a
known average (3) and then print the result.</p>
<p>In line 23, we create a list of 8 random scores with values ranging from 90 -
100. In line 24, we call <code class="docutils literal notranslate"><span class="pre">create_report</span></code> and send it the <code class="docutils literal notranslate"><span class="pre">pretend_scores</span></code>
list so we can check the format of the returned string.</p>
<div class="admonition-example admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>Let’s see how well our program works. Run the code as-is and examine the
output.</p>
<iframe height="900px" width="100%" src="https://repl.it/@launchcode/Why-Use-Main?lite=true" scrolling="no" frameborder="yes" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>Wait… what? The output contains three lists that we don’t expect from our
code we wrote in lines 20 - 24.</p>
<ol class="arabic simple">
<li><p>Comment out lines 20 - 24, then re-run the program.</p></li>
<li><p>Wait… what? The two <code class="docutils literal notranslate"><span class="pre">print</span></code> statements are commented out, but output
still appears in the console!</p></li>
</ol>
</div>
</div>
<div class="section" id="loose-statements">
<h2><span class="section-number">11.6.2. </span>Loose Statements<a class="headerlink" href="#loose-statements" title="Permalink to this headline">¶</a></h2>
<p>OK, we have a problem with our program, but it’s not with <code class="docutils literal notranslate"><span class="pre">main.py</span></code>. Click on
the <em>Files</em> icon in the top-left corner of the editor. This will show the names
of the two files that make up this program.</p>
<p>Click on <code class="docutils literal notranslate"><span class="pre">random_lists.py</span></code> to show its code in the editor.</p>
<p id="index-0">The module contains five functions, but the issue is at the bottom of the file.
Scroll to the end of the code to find the 8 statements in lines 44 - 51. We
call these <strong>loose statements</strong> because they are not part of any function.</p>
<p>Sometimes loose statements are just leftover commands that we used to test some
of the functions. However, most of the time, the loose code is needed to run the
program. It could prompt the user for information, call the functions in the
proper order, set up a required drawing space, etc.</p>
<p>In this case, the loose code contains three <code class="docutils literal notranslate"><span class="pre">print</span></code> statements, and these
create the unexpected output. This brings up a very important point:</p>
<blockquote>
<div><p>Loose statements ALWAYS run, even if none of the functions in the program
get called.</p>
</div></blockquote>
<p>In <code class="docutils literal notranslate"><span class="pre">main.py</span></code>, by running <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">random_lists</span></code> on line 1, the loose code in
the module executes. This is why we see three lists appear in the console even
if we remove all <code class="docutils literal notranslate"><span class="pre">print</span></code> commands in <code class="docutils literal notranslate"><span class="pre">main.py</span></code>.</p>
<p>We need to learn how to deal with loose statements so that they only run when
we want them to.</p>
</div>
<div class="section" id="add-a-main-function">
<h2><span class="section-number">11.6.3. </span>Add a <code class="docutils literal notranslate"><span class="pre">main()</span></code> Function<a class="headerlink" href="#add-a-main-function" title="Permalink to this headline">¶</a></h2>
<p>In our example, the loose code in <code class="docutils literal notranslate"><span class="pre">random_lists</span></code> is just there for testing.
We could simply remove it, but let’s deal with it in a better way.</p>
<p>Loose code winds up in a program because it does not fit into any of the
defined functions. However, these statements DO relate to each other because
they serve the same purpose—they control the main job of the program.</p>
<p>Update the code in <code class="docutils literal notranslate"><span class="pre">random_lists</span></code> by defining a <code class="docutils literal notranslate"><span class="pre">main()</span></code> function before
the loose code. Next, indent the loose lines so that they move into the
function:</p>
<div class="highlight-Python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>44
45
46
47
48
49
50
51
52</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
   <span class="n">numbers</span> <span class="o">=</span> <span class="n">create_random_number_list</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
   <span class="n">no_repeat_numbers</span> <span class="o">=</span> <span class="n">create_unique_number_list</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
   <span class="n">letters</span> <span class="o">=</span> <span class="n">create_random_letter_list</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
   <span class="n">numbers</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
   <span class="n">no_repeat_numbers</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">no_repeat_numbers</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p><code class="docutils literal notranslate"><span class="pre">main()</span></code> requires no parameters, nor does it need a return statement.</p>
<p>Return to <code class="docutils literal notranslate"><span class="pre">main.py</span></code> and uncomment lines 20 - 24. Click <em>Run</em> and notice that
the extra output disappears! Since the loose code from <code class="docutils literal notranslate"><span class="pre">random_lists</span></code> is now
inside its own function, it will only run if we call <code class="docutils literal notranslate"><span class="pre">main()</span></code>.</p>
<div class="admonition-try-it admonition">
<p class="admonition-title"><i class="fas fa-puzzle-piece" aria-hidden="true"></i>Try It!</p>
<p>In <code class="docutils literal notranslate"><span class="pre">main.py</span></code>, add the statement <code class="docutils literal notranslate"><span class="pre">random_lists.main()</span></code> and re-run the
program. The three extra lists should appear.</p>
</div>
<div class="section" id="add-main-to-main-py">
<h3><span class="section-number">11.6.3.1. </span>Add <code class="docutils literal notranslate"><span class="pre">main()</span></code> to <code class="docutils literal notranslate"><span class="pre">main.py</span></code><a class="headerlink" href="#add-main-to-main-py" title="Permalink to this headline">¶</a></h3>
<p>Let’s do the same thing to wrap up the loose code in <code class="docutils literal notranslate"><span class="pre">main.py</span></code>:</p>
<div class="highlight-Python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
   <span class="n">average</span> <span class="o">=</span> <span class="n">find_average_score</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">average</span><span class="p">)</span>

   <span class="n">pretend_scores</span> <span class="o">=</span> <span class="n">random_lists</span><span class="o">.</span><span class="n">create_random_number_list</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">create_report</span><span class="p">(</span><span class="n">pretend_scores</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>The following editor contains the updated code, with a <code class="docutils literal notranslate"><span class="pre">main()</span></code> function
present in both files.</p>
<div class="admonition-example admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Example</p>
<p>Most of the work happens inside the function, but we still need the last
four lines of code to get things done. They perform the main job of the
program (printing a score report).</p>
<p>Run the program again to see how it behaves now:</p>
<iframe height="700px" width="100%" src="https://repl.it/@launchcode/Why-Use-Main-step-2?lite=true" scrolling="no" frameborder="yes" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><p>Drat! Now NO output appears!</p>
</div>
<p>Since we placed the loose code into the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function, those statements
will not run unless we <em>call</em> the function.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">main.py</span></code>, add one more statement to the bottom of the code:</p>
<div class="highlight-Python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
   <span class="n">average</span> <span class="o">=</span> <span class="n">find_average_score</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">average</span><span class="p">)</span>

   <span class="n">pretend_scores</span> <span class="o">=</span> <span class="n">random_lists</span><span class="o">.</span><span class="n">create_random_number_list</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">create_report</span><span class="p">(</span><span class="n">pretend_scores</span><span class="p">))</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>Now when we run the code, it behaves as we want. Lines 20 - 25 tell Python,
<em>OK, we are defining a function called ‘main()’, and it holds all of the
statements that control how the program behaves.</em></p>
<p>Line 27 tells Python, <em>Please run the ‘main()’ function</em>.</p>
</div>
</div>
<div class="section" id="yes-you-really-want-to-add-main">
<h2><span class="section-number">11.6.4. </span>Yes, You Really Want to Add <code class="docutils literal notranslate"><span class="pre">main()</span></code><a class="headerlink" href="#yes-you-really-want-to-add-main" title="Permalink to this headline">¶</a></h2>
<p>In many programming languages, like Java and C#, we are not allowed to leave
loose statements sitting at the bottom of our code. Python is more forgiving,
but as a best practice we should keep ALL statements inside of a defined
function.</p>
<p><em>Why?</em></p>
<p>New coders often think that adding <code class="docutils literal notranslate"><span class="pre">main()</span></code> provides little benefit, but they
really, really, REALLY should. The reasons have everything to do with avoiding
bugs from loose statements:</p>
<ol class="arabic">
<li><p>Using <code class="docutils literal notranslate"><span class="pre">main()</span></code> prevents running unwanted code when we import a module.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">main()</span></code> function helps organize our code by putting all of the setup
and control statements in one place. For example, in a turtle program,
<code class="docutils literal notranslate"><span class="pre">main()</span></code> would be the place to define new turtles, set their properties,
change the window appearance, and call drawing functions.</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">main()</span></code> helps prevent shadowing of variables.</p>
<div class="admonition-examples admonition">
<p class="admonition-title"><i class="fas fa-binoculars" aria-hidden="true"></i>Examples</p>
<p>If we define a list variable in a loose statement, then every function in
the program can access that list.</p>
<div class="highlight-Python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_item</span><span class="p">():</span>
   <span class="n">a_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">flip_list</span><span class="p">():</span>
   <span class="n">a_list</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>

<span class="n">a_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">add_item</span><span class="p">()</span>
<span class="n">flip_list</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a_list</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p><strong>Console Output</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[9, 6, 4, 2]
</pre></div>
</div>
<p>If we define a list variable in <code class="docutils literal notranslate"><span class="pre">main()</span></code>, then it is harder to
accidentally change it in another function. We have to send the list in as
an argument before the other function can act on it.</p>
<div class="highlight-Python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_item</span><span class="p">():</span>
   <span class="n">a_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">flip_list</span><span class="p">():</span>
   <span class="n">a_list</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
   <span class="n">a_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
   <span class="n">add_item</span><span class="p">()</span>
   <span class="n">flip_list</span><span class="p">()</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a_list</span><span class="p">)</span>

<span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p><strong>Console Output</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>File &quot;main.py&quot;, line 2, in add_item
   a_list.append(9)
NameError: name &#39;a_list&#39; is not defined
</pre></div>
</div>
</div>
</li>
</ol>
</div>
<div class="section" id="check-your-understanding">
<h2><span class="section-number">11.6.5. </span>Check Your Understanding<a class="headerlink" href="#check-your-understanding" title="Permalink to this headline">¶</a></h2>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>The <code class="docutils literal notranslate"><span class="pre">main()</span></code> function can ONLY be added to the <code class="docutils literal notranslate"><span class="pre">main.py</span></code> file.</p>
<ol type="a">
   <li><input type="radio" name="Q1" autocomplete="off" onclick="evaluateMC(name, false)"> True</li>
   <li><input type="radio" name="Q1" autocomplete="off" onclick="evaluateMC(name, true)"> False</li>
</ol>
<p id="Q1"></p></div>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>What is the purpose of the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function? Select ALL that apply.</p>
<ol type="a">
   <li><span id = "A" onclick="highlight('A', true)">To tie up loose code statements.</span></li>
   <li><span id = "B" onclick="highlight('B', true)">To control the main tasks that a program performs.</span></li>
   <li><span id = "C" onclick="highlight('C', false)">To import modules.</span></li>
   <li><span id = "D" onclick="highlight('D', false)">To keep the program from running.</span></li>
   <li><span id = "E" onclick="highlight('E', true)">To complete any setup needed to get the program started.</span></li>
   <li><span id = "F" onclick="highlight('F', true)">To keep control statements from running if the code is imported as a module.</span></li>
</ol></div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="creating-modules.html"><span aria-hidden="true">&larr;</span> <span class="section-number">11.5. </span>Creating Modules</a></li>
        
        
        <li class="next"><a href="more-on-main.html"><span class="section-number">11.7. </span>More About <code class="docutils literal notranslate"><span class="pre">main()</span></code> <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/modules/the-main-function.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>